<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>FSharp.Charting: BoxPlot Charts
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The FSharp.Charting library implements charting suitable for in F# scripting.">
    <meta name="author" content="Don Syme, Carl Nolan, Tomas Petricek">

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src=" https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="http://fslab.org/FSharp.Charting/content/style.css" />
    <script type="text/javascript" src="http://fslab.org/FSharp.Charting/content/tips.js"></script>

    <script type="text/javascript">
      // Redirect using JavaScript - which is not perfect, but AFAIK the best we can do 
      // (We also generate link rel="canonical" (below) to let Google know *when we can*
      if (window.location.host == "fsharp.github.io") {
        window.location = window.location.toString().replace("fsharp.github.io", "fslab.org");
      }
    </script>
      <link rel="canonical" href="http://fslab.org/FSharp.Charting/BoxPlotCharts.html" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="https://fslab.org">fslab.org</a></li>
          <li><a href="https://fslab.org/RProvider"><img height=" 16" width="16" src="https://fsharp.org/images/thumbs/FSharpRProvider.png" /> R Provider</a></li>
          <li><a href="https://fslab.org/FSharp.Charting/"><img height="16" width="16" src="https://fsharp.org/images/thumbs/FSharp.Charting.png" /> FSharp.Charting</a></li>
          <li><a href="https://fslab.org/XPlot/"><img height="16" width="16" src="https://fslab.org/XPlot/img/logo.png" /> FSharp.Charting</a></li>
          <li><a href="https://fsharp.github.io/FSharp.Data"><img height="16" width="16" src="https://fsharp.org/images/thumbs/FSharp.Data.png" /> FSharp.Data</a></li>
        </ul>
        <h3 class="muted"><a href="http://fslab.org/FSharp.Charting/index.html">FSharp.Charting</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1>FSharp.Charting: BoxPlot Charts</h1>

<p><em>Summary:</em> This example shows how to create boxplot diagrams in F#. It looks at how 
to create a single boxplot from six statistics about an observation set as well as 
how to automatically create boxplots from observations.</p>

<p>When creating boxplot charts, it is possible to use either six statistics (Lower whisker, Upper whisker, Lower box, Upper box, Average, Median)
that define the boxplot data, or to infer these statistics from a set of values and let the library generate 
the boxplot diagram automatically.</p>

<p>A boxplot diagram shows six basic statistics about a set of observations. It displays the 
dataset minimum and maximum, the upper and lower quartiles, the average value, and the
median. When the F# script calculates these six statistics, the values can be passed to 
the method <code>Chart.BoxPlotFromStatistics</code> as a list of tuples
to draw multiple boxplots.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// On Mac OSX use FSharp.Charting.Gtk.fsx</span>
<span class="prep">#I</span> <span class="s">&quot;packages/FSharp.Charting&quot;</span>
<span class="prep">#load</span> <span class="s">&quot;FSharp.Charting.fsx&quot;</span>

<span class="k">open</span> <span class="i">FSharp</span><span class="o">.</span><span class="i">Charting</span>
<span class="k">open</span> <span class="i">System</span>
</code></pre></td>
</tr>
</table>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">Chart</span><span class="o">.</span><span class="i">BoxPlotFromStatistics</span>( 
    [ (<span class="s">&quot;Result A&quot;</span>, <span class="o">-</span><span class="n">12.7</span>, <span class="n">11.6</span>, <span class="o">-</span><span class="n">8.3</span>, <span class="n">6.4</span>, <span class="n">0.0</span>, <span class="n">0.0</span>);
      (<span class="s">&quot;Result B&quot;</span>, <span class="o">-</span><span class="n">6.7</span>, <span class="n">11.6</span>, <span class="o">-</span><span class="n">5.0</span>, <span class="n">5.4</span>, <span class="n">0.0</span>, <span class="n">0.0</span>) ])
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart4.png" alt="Chart" /></p>

<p>Here is the same box plot with dates used as labels. These must be explicitly formatted as strings.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">Chart</span><span class="o">.</span><span class="i">BoxPlotFromStatistics</span>(
    [ (<span class="i">DateTime</span><span class="o">.</span><span class="i">Today</span><span class="o">.</span><span class="i">ToShortDateString</span>()             , <span class="o">-</span><span class="n">12.7</span>, <span class="n">11.6</span>, <span class="o">-</span><span class="n">8.3</span>, <span class="n">6.4</span>, <span class="n">0.0</span>, <span class="n">0.0</span>);
      (<span class="i">DateTime</span><span class="o">.</span><span class="i">Today</span><span class="o">.</span><span class="i">AddDays</span>(<span class="n">1.0</span>)<span class="o">.</span><span class="i">ToShortDateString</span>(), <span class="o">-</span><span class="n">6.7</span>, <span class="n">11.6</span>, <span class="o">-</span><span class="n">5.0</span>, <span class="n">5.4</span>, <span class="n">0.0</span>, <span class="n">0.0</span>) ],
    <span class="i">ShowMedian</span> <span class="o">=</span> <span class="k">false</span>, <span class="i">ShowAverage</span> <span class="o">=</span> <span class="k">false</span>)
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart5.png" alt="Chart" /></p>

<p>This snippet calls the <code>Chart.BoxPlotFromStatistics</code> method with a list containing<br />
(Label, Lower whisker, Upper whisker, Lower box, Upper box, Average, Median) pairs.
The call uses the value 0.0 as a placeholder for the last two statistics. The lines in the boxplot 
diagram have to be hidden explicitly by setting <code>BoxPlotShowMedian</code> and <code>BoxPlotShowAverage</code> to false.</p>

<p>Another alternative when creating a boxplot is to let the charting library 
calculate the boxplot statistics automatically. To do that, the <code>Chart.BoxPlot</code> method 
can be called with a collection of (xLabel, yValues) tuples as an argument. Each entry 
is a label plus a set of observations. The statistics are automatically computed from the 
values in the observations.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">date</span> <span class="i">n</span> <span class="o">=</span> <span class="i">DateTime</span><span class="o">.</span><span class="i">Today</span><span class="o">.</span><span class="i">AddDays</span>(<span class="i">float</span> <span class="i">n</span>)<span class="o">.</span><span class="i">ToShortDateString</span>()
<span class="k">let</span> <span class="i">rnd</span> <span class="o">=</span> <span class="k">new</span> <span class="i">System</span><span class="o">.</span><span class="i">Random</span>()

<span class="k">let</span> <span class="i">threeSyntheticDataSets</span> <span class="o">=</span> 
    [ (<span class="i">date</span> <span class="n">0</span>, [| <span class="k">for</span> <span class="i">i</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span class="n">20</span> <span class="k">-&gt;</span> <span class="i">float</span> (<span class="i">rnd</span><span class="o">.</span><span class="i">Next</span> <span class="n">20</span>) |])
      (<span class="i">date</span> <span class="n">1</span>, [| <span class="k">for</span> <span class="i">i</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span class="n">20</span> <span class="k">-&gt;</span> <span class="i">float</span> (<span class="i">rnd</span><span class="o">.</span><span class="i">Next</span> <span class="n">15</span> <span class="o">+</span> <span class="n">2</span>) |])
      (<span class="i">date</span> <span class="n">2</span>, [| <span class="k">for</span> <span class="i">i</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span class="n">20</span> <span class="k">-&gt;</span> <span class="i">float</span> (<span class="i">rnd</span><span class="o">.</span><span class="i">Next</span> <span class="n">10</span> <span class="o">+</span> <span class="n">5</span>) |]) ]
</code></pre></td>
</tr>
</table>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">Chart</span><span class="o">.</span><span class="i">BoxPlotFromData</span>
  ( <span class="i">threeSyntheticDataSets</span>,
    <span class="i">ShowUnusualValues</span> <span class="o">=</span> <span class="k">true</span>, <span class="i">ShowMedian</span> <span class="o">=</span> <span class="k">false</span>,
    <span class="i">ShowAverage</span> <span class="o">=</span> <span class="k">false</span>, <span class="i">WhiskerPercentile</span> <span class="o">=</span> <span class="n">10</span>)
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart6.png" alt="Chart" /></p>

<p>The example above demonstrates how to calculate boxplot diagrams 
automatically from (randomly generated) data. It is also possible to set 
several custom properties to configure the boxplot diagram. When 
<code>BoxPlotShowUnusualValues</code> is true, the boxplot displays unusual values using points, as shown in Figure 1.</p>

<p>More information about working with financial data and how to download 
stock prices from the Yahoo Finance portal using F# can be found in <a href="http://tryfsharp.org">Try F#</a>.</p>


        </div>
        <div class="span3">
          <a href="http://fslab.org/FSharp.Charting/index.html">
            <img src="http://fslab.org/FSharp.Charting/images/logo.png" style="width:140px;height:140px;margin:10px 0px 0px 35px;border-style:none;" />
          </a>

          <ul class="nav nav-list" id="menu">
            <li class="nav-header">FSharp.Charting</li>
            <li><a href="http://fslab.org/FSharp.Charting/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="https://nuget.org/packages/FSharp.Charting">Get Library via NuGet</a></li>
            <li><a href="http://github.com/fslaborg/FSharp.Charting">Source Code on GitHub</a></li>
            <li><a href="http://github.com/fslaborg/FSharp.Charting/blob/master/LICENSE.md">License (BSD)</a></li>
            <li><a href="http://github.com/fslaborg/FSharp.Charting/blob/master/RELEASE_NOTES.md">Release notes</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/contributing.html">Contributing to FSharp.Charting</a></li>
            
            <li class="nav-header">Documentation</li>
            <li><a href="http://fslab.org/FSharp.Charting/fsharpcharting.html">FSharp.Charting Documentation</a></li>
            <li class="divider"></li>
            <li><a href="http://fslab.org/FSharp.Charting/ReferencingTheLibrary.html">Referencing The Library</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/PointAndLineCharts.html">Point and Line Charts</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/BarAndColumnCharts.html">Bar and Column Charts</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/PieAndDougnutCharts.html">Pie and Doughnut Charts</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/StockAndCandlestickCharts.html">Stock and Candlestick Charts</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/BoxPlotCharts.html">BoxPlot Charts</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/LiveChartSamples.html">Live Animated Charts</a></li>
            <!-- <li><a href="FurtherSamples.html">Further Samples</a></li> -->

            <li class="nav-header">Documentation</li>
            <li><a href="http://fslab.org/FSharp.Charting/reference/fsharp-charting-chart.html">Chart API reference</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/reference/fsharp-charting-livechart.html">LiveChart API reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/fslaborg/FSharp.Charting"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  </body>
</html>
