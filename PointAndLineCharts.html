<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>FSharp.Charting: Point and Line Charts
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The FSharp.Charting library implements charting suitable for in F# scripting.">
    <meta name="author" content="Don Syme, Carl Nolan, Tomas Petricek">

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src=" https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="http://fslab.org/FSharp.Charting/content/style.css" />
    <script type="text/javascript" src="http://fslab.org/FSharp.Charting/content/tips.js"></script>

    <script type="text/javascript">
      // Redirect using JavaScript - which is not perfect, but AFAIK the best we can do 
      // (We also generate link rel="canonical" (below) to let Google know *when we can*
      if (window.location.host == "fsharp.github.io") {
        window.location = window.location.toString().replace("fsharp.github.io", "fslab.org");
      }
    </script>
      <link rel="canonical" href="http://fslab.org/FSharp.Charting/PointAndLineCharts.html" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="https://fslab.org">fslab.org</a></li>
          <li><a href="https://fslab.org/RProvider"><img height=" 16" width="16" src="https://fsharp.org/images/thumbs/FSharpRProvider.png" /> R Provider</a></li>
          <li><a href="https://fslab.org/FSharp.Charting/"><img height="16" width="16" src="https://fsharp.org/images/thumbs/FSharp.Charting.png" /> FSharp.Charting</a></li>
          <li><a href="https://fslab.org/XPlot/"><img height="16" width="16" src="https://fslab.org/XPlot/img/logo.png" /> FSharp.Charting</a></li>
          <li><a href="https://fsharp.github.io/FSharp.Data"><img height="16" width="16" src="https://fsharp.org/images/thumbs/FSharp.Data.png" /> FSharp.Data</a></li>
        </ul>
        <h3 class="muted"><a href="http://fslab.org/FSharp.Charting/index.html">FSharp.Charting</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1>FSharp.Charting: Point and Line Charts</h1>

<p><em>Summary:</em> This example shows how to create line and point charts in F#.</p>

<p>A line or a point chart can be created using the <code>Chart.Line</code> and <code>Chart.Point</code> methods. When generating a
very large number of points or lines, it is better to use <code>Chart.FastLine</code> and <code>Chart.FastPoint</code>. These are special types
of charts that do not support as many visual features but are more efficient.</p>

<p>When using F# Interactive, each of these examples needs to be evaluated separately. This way, F# Interactive 
invokes a handler that automatically shows the created chart.</p>

<h2>A Simple Line Chart</h2>

<p>The following example calls the <code>Chart.Line</code> method with a list of X and Y values as tuples. The snippet generates
values of a simple function, f(x)=x^2. The values of the function are generated for X ranging from 1 to 100. The chart generated is 
shown below.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// On Mac OSX use FSharp.Charting.Gtk.fsx</span>
<span class="prep">#I</span> <span class="s">&quot;packages/FSharp.Charting&quot;</span>
<span class="prep">#load</span> <span class="s">&quot;FSharp.Charting.fsx&quot;</span>

<span class="k">open</span> <span class="i">FSharp</span><span class="o">.</span><span class="i">Charting</span>
<span class="k">open</span> <span class="i">System</span>
</code></pre></td>
</tr>
</table>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Drawing graph of a &#39;square&#39; function </span>
<span class="i">Chart</span><span class="o">.</span><span class="i">Line</span> [ <span class="k">for</span> <span class="i">x</span> <span class="k">in</span> <span class="n">1.0</span> <span class="o">..</span> <span class="n">100.0</span> <span class="k">-&gt;</span> (<span class="i">x</span>, <span class="i">x</span> <span class="o">**</span> <span class="n">2.0</span>) ]
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart11.png" alt="Chart" /></p>

<h2>Pipelining into Chart.Line</h2>

<p>The following example generates a list containing both X and Y values.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Generates 2D curve using list of tuples</span>
<span class="k">let</span> <span class="i">curvyData</span> <span class="o">=</span> [ <span class="k">for</span> <span class="i">i</span> <span class="k">in</span> <span class="n">0.0</span> <span class="o">..</span> <span class="n">0.02</span> <span class="o">..</span> <span class="n">2.0</span> <span class="o">*</span> <span class="i">Math</span><span class="o">.</span><span class="i">PI</span> <span class="k">-&gt;</span> (<span class="i">sin</span> <span class="i">i</span>, <span class="i">cos</span> <span class="i">i</span> <span class="o">*</span> <span class="i">sin</span> <span class="i">i</span>) ] 
<span class="i">curvyData</span> <span class="o">|&gt;</span> <span class="i">Chart</span><span class="o">.</span><span class="i">Line</span>
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart12.png" alt="Chart" /></p>

<h2>Specifying only Y values</h2>

<p>The following example below shows that you may also simply give a set of Y values, rather than (X,Y) value pairs.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Generates 2D curve using only Y values</span>
<span class="i">Chart</span><span class="o">.</span><span class="i">Line</span> [ <span class="k">for</span> <span class="i">x</span> <span class="k">in</span> <span class="n">1.0</span> <span class="o">..</span> <span class="n">100.0</span> <span class="k">-&gt;</span> <span class="i">x</span> <span class="o">*</span> <span class="i">x</span> <span class="o">*</span> <span class="i">sin</span> <span class="i">x</span> ]
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart13.png" alt="Chart" /></p>

<p>It uses a sequence expression ranging
from 0 to 2Ï€ with a step size 0.02. This produces a large number of points, so the snippet uses the <code>Chart.Line</code>
method to draw the chart. When using a single list as the data source, it is also possible to elegantly use the pipelining (<code>|&gt;</code> operator).</p>

<h2>A Point Chart</h2>

<p>The following example shows how to generate a scatter plot. It uses a list to specify the X and Y coordinates of the points.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Draw scatter plot  of points</span>
<span class="k">let</span> <span class="i">rnd</span> <span class="o">=</span> <span class="k">new</span> <span class="i">Random</span>()
<span class="k">let</span> <span class="i">rand</span>() <span class="o">=</span> <span class="i">rnd</span><span class="o">.</span><span class="i">NextDouble</span>()
<span class="k">let</span> <span class="i">randomPoints</span> <span class="o">=</span> [ <span class="k">for</span> <span class="i">i</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span class="n">1000</span> <span class="k">-&gt;</span> <span class="i">rand</span>(), <span class="i">rand</span>() ]
</code></pre></td>
</tr>
</table>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">Chart</span><span class="o">.</span><span class="i">Point</span> <span class="i">randomPoints</span>
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart14.png" alt="Chart" /></p>

<h2>Specifying Minimums, Maximums and other properties on a Line Chart</h2>

<p>The following example shows how to set the name and Y axis minimum properties on the chart and use log-distribution for the X axis.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">highData</span> <span class="o">=</span> [ <span class="k">for</span> <span class="i">x</span> <span class="k">in</span> <span class="n">1.0</span> <span class="o">..</span> <span class="n">100.0</span> <span class="k">-&gt;</span> (<span class="i">x</span>, <span class="n">3000.0</span> <span class="o">+</span> <span class="i">x</span> <span class="o">**</span> <span class="n">2.0</span>) ]
<span class="i">Chart</span><span class="o">.</span><span class="i">Line</span>(<span class="i">highData</span>,<span class="i">Name</span><span class="o">=</span><span class="s">&quot;Rates&quot;</span>)<span class="o">.</span><span class="i">WithYAxis</span>(<span class="i">Min</span><span class="o">=</span><span class="n">2000.0</span>)<span class="o">.</span><span class="i">WithXAxis</span>(<span class="i">Log</span><span class="o">=</span><span class="k">true</span>)
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart15.png" alt="Chart" /></p>

<h2>Combining Line Charts</h2>

<p>The following example shows how to combine several line charts and give each data set a name. A legend is added
automatically when names are used for data sets.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">futureDate</span> <span class="i">numDays</span> <span class="o">=</span> <span class="i">DateTime</span><span class="o">.</span><span class="i">Today</span><span class="o">.</span><span class="i">AddDays</span>(<span class="i">float</span> <span class="i">numDays</span>)

<span class="k">let</span> <span class="i">expectedIncome</span> <span class="o">=</span> 
  [ <span class="k">for</span> <span class="i">x</span> <span class="k">in</span> <span class="n">1</span> <span class="o">..</span> <span class="n">100</span> <span class="k">-&gt;</span> 
      <span class="i">futureDate</span> <span class="i">x</span>, <span class="n">1000.0</span> <span class="o">+</span> <span class="i">rand</span>() <span class="o">*</span> <span class="n">100.0</span> <span class="o">*</span> <span class="i">exp</span> (<span class="i">float</span> <span class="i">x</span> <span class="o">/</span> <span class="n">40.0</span>) ]
<span class="k">let</span> <span class="i">expectedExpenses</span> <span class="o">=</span> 
  [ <span class="k">for</span> <span class="i">x</span> <span class="k">in</span> <span class="n">1</span> <span class="o">..</span> <span class="n">100</span> <span class="k">-&gt;</span> 
      <span class="i">futureDate</span> <span class="i">x</span>, <span class="i">rand</span>() <span class="o">*</span> <span class="n">500.0</span> <span class="o">*</span> <span class="i">sin</span> (<span class="i">float</span> <span class="i">x</span> <span class="o">/</span> <span class="n">50.0</span>) ]
<span class="k">let</span> <span class="i">computedProfit</span> <span class="o">=</span> 
  (<span class="i">expectedIncome</span>, <span class="i">expectedExpenses</span>) 
  <span class="o">||&gt;</span> <span class="i">List</span><span class="o">.</span><span class="i">map2</span> (<span class="k">fun</span> (<span class="i">d1</span>,<span class="i">i</span>) (<span class="i">d2</span>,<span class="i">e</span>) <span class="k">-&gt;</span> (<span class="i">d1</span>, <span class="i">i</span> <span class="o">-</span> <span class="i">e</span>))
</code></pre></td>
</tr>
</table>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">Chart</span><span class="o">.</span><span class="i">Line</span>(<span class="i">expectedIncome</span>,<span class="i">Name</span><span class="o">=</span><span class="s">&quot;Income&quot;</span>)
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart16.png" alt="Chart" /></p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">Chart</span><span class="o">.</span><span class="i">Line</span>(<span class="i">expectedExpenses</span>,<span class="i">Name</span><span class="o">=</span><span class="s">&quot;Expenses&quot;</span>)
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart17.png" alt="Chart" /></p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">Chart</span><span class="o">.</span><span class="i">Line</span>(<span class="i">computedProfit</span>,<span class="i">Name</span><span class="o">=</span><span class="s">&quot;Profit&quot;</span>)
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart18.png" alt="Chart" /></p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">Chart</span><span class="o">.</span><span class="i">Combine</span>(
   [ <span class="i">Chart</span><span class="o">.</span><span class="i">Line</span>(<span class="i">expectedIncome</span>,<span class="i">Name</span><span class="o">=</span><span class="s">&quot;Income&quot;</span>)
     <span class="i">Chart</span><span class="o">.</span><span class="i">Line</span>(<span class="i">expectedExpenses</span>,<span class="i">Name</span><span class="o">=</span><span class="s">&quot;Expenses&quot;</span>) 
     <span class="i">Chart</span><span class="o">.</span><span class="i">Line</span>(<span class="i">computedProfit</span>,<span class="i">Name</span><span class="o">=</span><span class="s">&quot;Profit&quot;</span>) ])
</code></pre></td>
</tr>
</table>

<p><img src="http://fslab.org/FSharp.Charting/images/chart19.png" alt="Chart" /></p>


        </div>
        <div class="span3">
          <a href="http://fslab.org/FSharp.Charting/index.html">
            <img src="http://fslab.org/FSharp.Charting/images/logo.png" style="width:140px;height:140px;margin:10px 0px 0px 35px;border-style:none;" />
          </a>

          <ul class="nav nav-list" id="menu">
            <li class="nav-header">FSharp.Charting</li>
            <li><a href="http://fslab.org/FSharp.Charting/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="https://nuget.org/packages/FSharp.Charting">Get Library via NuGet</a></li>
            <li><a href="http://github.com/fslaborg/FSharp.Charting">Source Code on GitHub</a></li>
            <li><a href="http://github.com/fslaborg/FSharp.Charting/blob/master/LICENSE.md">License (BSD)</a></li>
            <li><a href="http://github.com/fslaborg/FSharp.Charting/blob/master/RELEASE_NOTES.md">Release notes</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/contributing.html">Contributing to FSharp.Charting</a></li>
            
            <li class="nav-header">Documentation</li>
            <li><a href="http://fslab.org/FSharp.Charting/fsharpcharting.html">FSharp.Charting Documentation</a></li>
            <li class="divider"></li>
            <li><a href="http://fslab.org/FSharp.Charting/ReferencingTheLibrary.html">Referencing The Library</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/PointAndLineCharts.html">Point and Line Charts</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/BarAndColumnCharts.html">Bar and Column Charts</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/PieAndDougnutCharts.html">Pie and Doughnut Charts</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/StockAndCandlestickCharts.html">Stock and Candlestick Charts</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/BoxPlotCharts.html">BoxPlot Charts</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/LiveChartSamples.html">Live Animated Charts</a></li>
            <!-- <li><a href="FurtherSamples.html">Further Samples</a></li> -->

            <li class="nav-header">Documentation</li>
            <li><a href="http://fslab.org/FSharp.Charting/reference/fsharp-charting-chart.html">Chart API reference</a></li>
            <li><a href="http://fslab.org/FSharp.Charting/reference/fsharp-charting-livechart.html">LiveChart API reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/fslaborg/FSharp.Charting"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  </body>
</html>
